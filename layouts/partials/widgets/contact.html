<!-- contact widget -->

{{ $ := .root }}
{{ $page := .page }}

{{ if not $.Site.Params.email }}
  {{ errorf "Please set an email address for the contact form using the `email` parameter in `config.toml`. Otherwise, disable the contact form." }}
{{ end }}

{{ $action := printf "action=\"https:formspree.is/%s\"" ($page.Params.email | default $.Site.Params.email) }}

<section class="section section-light-grey is-medium">
  <div class="container">
    <div class="title-wrapper has-text-centered">
      <h2 class="title is-2 is-spaced"> {{ $page.Params.title }} </h2>
      <h3 class="subtitle is-5 is-muted"> {{ $page.Params.subtitle }} </h3>
      <div class="divider is-centered"></div>
    </div>

    <div class="content-wrapper">
      <div class="columns">
        <div class="column is-6 is-offset-3">
			<form name="contact" method="POST" {{ $action }}>
            <div class="columns is-multiline">
              <div class="column is-6">
                <input class="input is-medium" type="text" placeholder="Enter your name" name="name">
              </div>
              <div class="column is-6">
                <input class="input is-medium" type="email" placeholder="Enter your email address" name="from">
              </div>
              <div class="column is-12">
                <textarea class="textarea" rows="10" placeholder="Write someting..."></textarea>
              </div>
              <div class="form-footer has-text-centered mt-10">
                <button class="button cta is-large primary-btn raised is-clear">Send Message</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>
